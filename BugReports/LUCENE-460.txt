hashCode improvements



Description:
It would be nice for all Query classes to implement hashCode and equals to enable them to be used as keys when caching.

